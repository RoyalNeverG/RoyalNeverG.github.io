<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Dokcer详解 - MilkLc</title><meta description="一、Docker官网与仓库地址docker官网：http:&amp;#x2F;&amp;#x2F;www.docker.com Docker Hub官网: https:&amp;#x2F;&amp;#x2F;hub.docker.com&amp;#x2F; 二、Docker三要素1、镜像Docker 镜像（Image）就是一个只读的模板。镜像可以用来创建 Docker 容器，一个镜像可以创建很多容器。 2、容器Docker 利用容器（Container）独立运行的一个或一组应用。容器是"><meta property="og:type" content="blog"><meta property="og:title" content="Dokcer详解"><meta property="og:url" content="http://yoursite.com/2020/08/30/docker_linux_nginx_git_maven_gradle/Docker%E8%AF%A6%E8%A7%A3/"><meta property="og:site_name" content="MilkLc"><meta property="og:description" content="一、Docker官网与仓库地址docker官网：http:&amp;#x2F;&amp;#x2F;www.docker.com Docker Hub官网: https:&amp;#x2F;&amp;#x2F;hub.docker.com&amp;#x2F; 二、Docker三要素1、镜像Docker 镜像（Image）就是一个只读的模板。镜像可以用来创建 Docker 容器，一个镜像可以创建很多容器。 2、容器Docker 利用容器（Container）独立运行的一个或一组应用。容器是"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://img.louchen.top/2020/07/20200821215103.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200821224247.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200821230624.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200821225951.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200822224801.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200822225632.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200822225910.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200822230103.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200823134218.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200823134555.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200823134807.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200823134901.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824105510.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824105546.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824105609.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824105910.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824111241.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824111727.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824111853.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824112656.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200824112847.png"><meta property="og:image" content="http://img.louchen.top/2020/07/20200825201012.png"><meta property="article:published_time" content="2020-08-30T13:32:38.171Z"><meta property="article:modified_time" content="2020-08-30T13:36:48.635Z"><meta property="article:author" content="lc"><meta property="article:tag" content="Docker"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="http://img.louchen.top/2020/07/20200821215103.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/08/30/docker_linux_nginx_git_maven_gradle/Docker%E8%AF%A6%E8%A7%A3/"},"headline":"MilkLc","image":["http://img.louchen.top/2020/07/20200821215103.png","http://img.louchen.top/2020/07/20200821224247.png","http://img.louchen.top/2020/07/20200821230624.png","http://img.louchen.top/2020/07/20200821225951.png","http://img.louchen.top/2020/07/20200822224801.png","http://img.louchen.top/2020/07/20200822225632.png","http://img.louchen.top/2020/07/20200822225910.png","http://img.louchen.top/2020/07/20200822230103.png","http://img.louchen.top/2020/07/20200823134218.png","http://img.louchen.top/2020/07/20200823134555.png","http://img.louchen.top/2020/07/20200823134807.png","http://img.louchen.top/2020/07/20200823134901.png","http://img.louchen.top/2020/07/20200824105510.png","http://img.louchen.top/2020/07/20200824105546.png","http://img.louchen.top/2020/07/20200824105609.png","http://img.louchen.top/2020/07/20200824105910.png","http://img.louchen.top/2020/07/20200824111241.png","http://img.louchen.top/2020/07/20200824111727.png","http://img.louchen.top/2020/07/20200824111853.png","http://img.louchen.top/2020/07/20200824112656.png","http://img.louchen.top/2020/07/20200824112847.png","http://img.louchen.top/2020/07/20200825201012.png"],"datePublished":"2020-08-30T13:32:38.171Z","dateModified":"2020-08-30T13:36:48.635Z","author":{"@type":"Person","name":"lc"},"description":"一、Docker官网与仓库地址docker官网：http:&#x2F;&#x2F;www.docker.com Docker Hub官网: https:&#x2F;&#x2F;hub.docker.com&#x2F; 二、Docker三要素1、镜像Docker 镜像（Image）就是一个只读的模板。镜像可以用来创建 Docker 容器，一个镜像可以创建很多容器。 2、容器Docker 利用容器（Container）独立运行的一个或一组应用。容器是"}</script><link rel="canonical" href="http://yoursite.com/2020/08/30/docker_linux_nginx_git_maven_gradle/Docker%E8%AF%A6%E8%A7%A3/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.ico" alt="MilkLc" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/RoyalNeverG"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><input placeholder="你想要查找什么？" type="text"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-30T13:32:38.171Z" title="2020-08-30T13:32:38.171Z">2020-08-30</time><span class="level-item"><a class="link-muted" href="/categories/%E5%AE%B9%E5%99%A8%E5%8C%96%E6%8A%80%E6%9C%AF/">容器化技术</a></span><span class="level-item">1 小时 读完 (大约 6933 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Dokcer详解</h1><div class="content"><h3 id="一、Docker官网与仓库地址"><a href="#一、Docker官网与仓库地址" class="headerlink" title="一、Docker官网与仓库地址"></a>一、Docker官网与仓库地址</h3><p>docker官网：<a href="http://www.docker.com">http://www.docker.com</a></p>
<p>Docker Hub官网: <a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<h3 id="二、Docker三要素"><a href="#二、Docker三要素" class="headerlink" title="二、Docker三要素"></a>二、Docker三要素</h3><h4 id="1、镜像"><a href="#1、镜像" class="headerlink" title="1、镜像"></a>1、镜像</h4><p>Docker 镜像（Image）就是一个只读的模板。镜像可以用来创建 Docker 容器，<strong>一个镜像可以创建很多容器。</strong></p>
<h4 id="2、容器"><a href="#2、容器" class="headerlink" title="2、容器"></a>2、容器</h4><p>Docker 利用容器（Container）<strong>独立运行的一个或一组应用</strong>。<strong>容器是用镜像创建的运行实例</strong>。</p>
<p>它可以被启动、开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。</p>
<p>可以把容器看做是一个简易版的 Linux 环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序。</p>
<p>容器的定义和镜像几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的。</p>
<a id="more"></a>
<h4 id="3、仓库"><a href="#3、仓库" class="headerlink" title="3、仓库"></a>3、仓库</h4><p>仓库（Repository）是<strong>集中存放镜像文件的场所</strong>。<br>仓库(Repository)和仓库注册服务器（Registry）是有区别的。仓库注册服务器上往往存放着多个仓库，每个仓库中又包含了多个镜像，每个镜像有不同的标签（tag）。</p>
<p>仓库分为公开仓库（Public）和私有仓库（Private）两种形式。<br>最大的公开仓库是 Docker Hub(<a href="https://hub.docker.com/)，">https://hub.docker.com/)，</a><br>存放了数量庞大的镜像供用户下载。<strong>国内的公开仓库包括阿里云 、网易云</strong> 等</p>
<h4 id="4、深入理解镜像-容器-仓库"><a href="#4、深入理解镜像-容器-仓库" class="headerlink" title="4、深入理解镜像/容器/仓库"></a>4、深入理解镜像/容器/仓库</h4><p> Docker 本身是一个容器运行载体或称之为管理引擎。我们把应用程序和配置依赖打包好形成一个可交付的运行环境，这个打包好的运行环境就似乎 image镜像文件。只有通过这个镜像文件才能生成 Docker 容器。image 文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。<strong>同一个 image 文件，可以生成多个同时运行的容器实例。</strong></p>
<ul>
<li>image 文件生成的容器实例，本身也是一个文件，称为镜像文件。</li>
<li>一个容器运行一种服务，当我们需要的时候，就可以通过docker客户端创建一个对应的运行实例，也就是我们的容器</li>
<li>至于仓储，就是放了一堆镜像的地方，我们可以把镜像发布到仓储中，需要的时候从仓储中拉下来就可以了。</li>
</ul>
<img src="http://img.louchen.top/2020/07/20200821215103.png" style="zoom:80%;" />

<h3 id="三、Docker的安装与卸载"><a href="#三、Docker的安装与卸载" class="headerlink" title="三、Docker的安装与卸载"></a>三、Docker的安装与卸载</h3><p>官网教程：<a href="https://docs.docker.com/engine/install/centos/">https://docs.docker.com/engine/install/centos/</a>  基于centos7</p>
<h4 id="1、安装docker"><a href="#1、安装docker" class="headerlink" title="1、安装docker"></a>1、安装docker</h4><p><strong>1)如果已经安装，则卸载旧的docker版本</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum remove docker \</span></span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>

<p><strong>2)安装仓库</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install -y yum-utils</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">设置阿里云的镜像仓库地址</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum-config-manager \</span></span><br><span class="line">    --add-repo \</span><br><span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<p><strong>3)更新yum软件包索引</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure>

<p><strong>4)安装docker</strong></p>
<ul>
<li><strong>yum -y install docker-ce</strong><ul>
<li><strong>-y</strong> 全部同意</li>
<li><strong>docker-ce</strong> 安装社区版</li>
</ul>
</li>
</ul>
<p><strong>5)启动docker服务</strong></p>
<ul>
<li><strong>systemctl start docker</strong> </li>
</ul>
<p><strong>6)查看docker的版本</strong></p>
<ul>
<li><strong>docker version</strong> 或者 <strong>docker -v</strong></li>
</ul>
<img src="http://img.louchen.top/2020/07/20200821224247.png" style="zoom:80%;" />

<p><strong>7)测试容器</strong></p>
<ul>
<li><strong>docker run hello-world</strong></li>
</ul>
<img src="http://img.louchen.top/2020/07/20200821230624.png" style="zoom:80%;" />

<h4 id="2、阿里镜像加速配置"><a href="#2、阿里镜像加速配置" class="headerlink" title="2、阿里镜像加速配置"></a><strong>2、阿里镜像加速配置</strong></h4><img src="http://img.louchen.top/2020/07/20200821225951.png" style="zoom: 80%;" />

<ul>
<li><p><strong>vim /etc/docker/daemon.json</strong></p>
<ul>
<li><p>添加镜像地址</p>
<ul>
<li><pre><code class="shell">{
  "registry-mirrors": ["https://xxx.mirror.aliyuncs.com"]
}
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **systemctl daemon-reload**</span><br><span class="line">  </span><br><span class="line">  - 重新加载配置文件</span><br><span class="line">- **systemctl restart docker**</span><br><span class="line">  </span><br><span class="line">  - 重启docker服务</span><br><span class="line"></span><br><span class="line">#### 3、卸载docker </span><br><span class="line"></span><br><span class="line">- **systemctl stop docker** </span><br><span class="line">  - 先停止docker</span><br><span class="line"></span><br><span class="line">- *yum remove docker-ce docker-ce-cli containerd.io*</span><br><span class="line"></span><br><span class="line">- *rm -rf &#x2F;var&#x2F;lib&#x2F;docker*</span><br><span class="line"></span><br><span class="line">### 四、Docker的底层原理</span><br><span class="line"></span><br><span class="line">Docker是一个Client-Server结构的系统，Docker守护进程运行在主机上， 然后通过Socket连接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。 容器，是一个运行时环境，就是我们前面说到的集装箱。</span><br><span class="line"></span><br><span class="line">#### 1、为什么Docker比较比VM快</span><br><span class="line"></span><br><span class="line">- (1)docker有着比虚拟机更少的抽象层。由亍docker不需要Hypervisor实现硬件资源虚拟化,运行在docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在效率上有明显优势。</span><br><span class="line"></span><br><span class="line">- (2)docker利用的是宿主机的内核,而不需要Guest OS。因此,当新建一个容器时,docker不需要和虚拟机一样重新加载一个操作系统内核。仍而避免引寻、加载操作系统内核返个比较费时费资源的过程,当新建一个虚拟机时,虚拟机软件需要加载Guest OS,返个新建过程是分钟级别的。而docker由于直接利用宿主机的操作系统,则省略了返个过程,因此新建一个docker容器只需要几秒钟。</span><br><span class="line"></span><br><span class="line">###  五、Docker常用命令</span><br><span class="line"></span><br><span class="line">#### 1、其他命令</span><br><span class="line"></span><br><span class="line">-  **docker version**  或者 **docker -v**</span><br><span class="line">  - 查看docker的版本</span><br><span class="line"></span><br><span class="line">- **docker info**</span><br><span class="line">  - 查看docker的更加详细信息</span><br><span class="line">- **systemctl [start|stop|restart] docker**</span><br><span class="line">  - 【启动|停止|重启】docker服务</span><br><span class="line">- **systemctl enable docker**</span><br><span class="line">  - 开启自启动docker</span><br><span class="line">- **docker --help**</span><br><span class="line">  - 查看帮助命令</span><br><span class="line"></span><br><span class="line">#### 2、镜像操作</span><br><span class="line"></span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200821233115.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&gt; 各个选项说明:</span><br><span class="line"></span><br><span class="line">REPOSITORY：表示镜像的仓库源</span><br><span class="line"></span><br><span class="line">TAG：镜像的标签</span><br><span class="line"></span><br><span class="line">IMAGE ID镜像ID</span><br><span class="line"></span><br><span class="line">CREATED：镜像创建时间</span><br><span class="line"></span><br><span class="line">SIZE：镜像大小</span><br><span class="line"></span><br><span class="line">同一仓库源可以有多个 TAG，代表这个仓库源的不同个版本，我们使用 **REPOSITORY:TAG** 来定义不同的镜像。</span><br><span class="line">如果你不指定一个镜像的版本标签，例如你只使用 ubuntu，docker 将默认使用 ubuntu:latest 镜像</span><br><span class="line"></span><br><span class="line">- **docker images**</span><br><span class="line">  - 查看本机上所有的镜像</span><br><span class="line">- **docker images [选项]**</span><br><span class="line">  - 【选项】</span><br><span class="line">    - **-a**  列出本地所有的镜像（含**中间映像层**）</span><br><span class="line">    - **-q** :只显示镜像ID。</span><br><span class="line">    - **--digests** 显示镜像的摘要信息</span><br><span class="line">    - **--no-trunc** 显示完整的镜像信息</span><br><span class="line"></span><br><span class="line">- **docker search [镜像名称]**</span><br><span class="line">  - 查询镜像</span><br><span class="line">    - &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200821234510.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">- **docker search [选项] [镜像名称]**</span><br><span class="line"></span><br><span class="line">  - 【选项】</span><br><span class="line"></span><br><span class="line">    -  **-no-trunc**  显示完整的镜像描述</span><br><span class="line"></span><br><span class="line">    - **--filter&#x3D;stars&#x3D;[点赞数]**  列出收藏数不小于指定值的镜像。</span><br><span class="line">    - **-automated**  只列出 automated build类型的镜像；</span><br><span class="line"></span><br><span class="line">- **docker pull [镜像名:版本号]**</span><br><span class="line">  - 拉取指定镜像 ，若不写版本号，则默认拉取的为【镜像名:latest】最近的版本</span><br><span class="line"></span><br><span class="line">- **docker rmi [镜像id&#x2F;镜像名:TAG]**</span><br><span class="line">  - 删除指定镜像</span><br><span class="line">    - 若存在多个相同镜像，，不指定镜像名的TAG会删除latest镜像</span><br><span class="line">- **docker rmi -f [镜像id&#x2F;镜像名:TAG]  [镜像id&#x2F;镜像名:TAG]**</span><br><span class="line">  - 强制删除镜像</span><br><span class="line">    - 若存在多个相同镜像，不指定镜像名的TAG会删除latest镜像</span><br><span class="line"></span><br><span class="line">- **docker rmi -f $(docker images -qa)**</span><br><span class="line">  - 强制删除所有镜像</span><br><span class="line">    - 使用&#96;docker images -qa&#96;查询所有镜像id并批量删除</span><br><span class="line"></span><br><span class="line">#### 3、容器操作</span><br><span class="line"></span><br><span class="line">- **docker pull [镜像名称:TAG]**</span><br><span class="line">  </span><br><span class="line">- 拉取指定镜像，若没有指定TAG则拉取latest</span><br><span class="line">  </span><br><span class="line">- **docker run [选项] [镜像id&#x2F;镜像名称]** </span><br><span class="line"></span><br><span class="line">  - 新建并启动容器</span><br><span class="line"></span><br><span class="line">  - 【选项】</span><br><span class="line"></span><br><span class="line">    - **--name &quot;容器新名字&quot;**   为容器指定一个名称，若不指定名称，则随机分配一个</span><br><span class="line">    - **-d**  后台运行容器，并返回容器ID，也即启动守护式容器；</span><br><span class="line">    - **-i** 以交互模式运行容器，通常与 -t 同时使用；</span><br><span class="line">    - **-t** 为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class="line">    - **-P**  随机端口映射；</span><br><span class="line">    - **-p** 指定端口映射，有以下四种格式</span><br><span class="line">      -  **-p [主机端口]:[容器端口]**  将主机的端口和容器中的端口进行映射对应</span><br><span class="line">    - **--restart&#x3D;always**</span><br><span class="line">    - docker服务重新启动时，容器也会启动</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  **①启动并进入容器**</span><br><span class="line"></span><br><span class="line">    &gt; &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822140007.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; 为centos镜像创建一个名称为mycentos的容器实例，启动后直接进入容器内部</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; - exit 后会关闭容器</span><br><span class="line">  &gt; - ctrl+p+q 不会关闭容器</span><br><span class="line"></span><br><span class="line">  **②以后台方式启动容器，并指定映射端口**</span><br><span class="line"></span><br><span class="line">    &gt; &#96;docker pull tomcat:8&#96;</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; &#96;docker run -d --name mytomcat -p 8080:8080 tomcat:8&#96;</span><br><span class="line">    &gt;</span><br><span class="line">    &gt; &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822174315.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">- **docker ps [选项]**</span><br><span class="line"></span><br><span class="line">  - 默认列出当前正在运行的所有容器信息（无选项时）</span><br><span class="line">    - 【选项】</span><br><span class="line">      - **-a**  列出当前所有**正在运行的容器+历史上运行过的所有容器**</span><br><span class="line">      - **-l**  显示上一次创建的容器。</span><br><span class="line">      - **-n [次数]**   显示最近指定次数创建的历史容器。</span><br><span class="line">      - **-q**  只显示容器编号。</span><br><span class="line">      - **--no-trunc**  不截断输出。</span><br><span class="line"></span><br><span class="line">- **退出容器**</span><br><span class="line">  - **exit**  容器停止退出</span><br><span class="line">  - **ctrl+P+Q** 容器不停止退出</span><br><span class="line"></span><br><span class="line">- **docker start [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 启动指定容器</span><br><span class="line">- **docker restart  [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 重启指定容器</span><br><span class="line">- **docker stop [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 停止指定容器</span><br><span class="line">- **docker kill  [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 强制停止指定容器</span><br><span class="line">- **删除容器**</span><br><span class="line">  - **docker rm [容器id&#x2F;容器名称]**  删除已停止的容器</span><br><span class="line">  </span><br><span class="line">  - 一次性删除多个容器</span><br><span class="line">    </span><br><span class="line">    - **docker rm [容器1] [容器2]** </span><br><span class="line">    </span><br><span class="line">    - **docker rm -f $(docker ps -a -q)** </span><br><span class="line">    - **docker ps -a -q | xargs docker rm**</span><br><span class="line">- **docker logs [选项] [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 查看容器日志</span><br><span class="line">    - 【选项】</span><br><span class="line">      - **-t** 是加入时间戳</span><br><span class="line">      - **-f** 跟随最新的日志打印</span><br><span class="line">      - **--tail [数字]** 显示最后多少条</span><br><span class="line">- **docker top [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 查看容器内运行的进程</span><br><span class="line">- **docker inspect [容器id&#x2F;容器名称]**</span><br><span class="line">  </span><br><span class="line">  - 查看容器内部细节</span><br><span class="line">- **进入容器内部进行命令交互**</span><br><span class="line">  - **docker exec -it [容器id&#x2F;容器名称] bash**</span><br><span class="line">  - **docker attach [容器id&#x2F;容器名称]**</span><br><span class="line">  - 区别：</span><br><span class="line">    - attach 直接进入容器启动命令的终端，不会启动新的进程。**exit退出后会关闭容器**</span><br><span class="line">    - exec 是在容器中打开新的终端，并且可以启动新的进程 。**exit退出后不会关闭容器**</span><br><span class="line"></span><br><span class="line">- **docker exec -it [容器id&#x2F;容器名] ls -l &#x2F;tmp**</span><br><span class="line"></span><br><span class="line">  - 输出容器中的 &#x2F;tmp目录下的文件</span><br><span class="line"></span><br><span class="line">  - &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822144310.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">- **docker cp [容器id&#x2F;容器名]:[容器内路径]  [目的主机路径]**</span><br><span class="line">  </span><br><span class="line">  - 从容器内指定文件拷贝到主机指定位置</span><br><span class="line">  - &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822150103.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line">    - 拷贝mycentos容器下的 &#x2F;etc&#x2F;profile文件拷贝到 &#x2F; 路径下</span><br><span class="line"></span><br><span class="line">### 六、Docker镜像</span><br><span class="line"></span><br><span class="line">#### 1、什么是镜像</span><br><span class="line"></span><br><span class="line">镜像是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它**包含运行某个软件所需的所有内容，包括代码、运行时、库、环境变量和配置文件**。</span><br><span class="line"></span><br><span class="line">#### 2、Docker镜像加载原理</span><br><span class="line"></span><br><span class="line">   docker的镜像实际上由一层一层的文件系统组成，这种层级的文件系统UnionFS。</span><br><span class="line">bootfs(boot file system)主要包含bootloader和kernel, bootloader主要是引导加载kernel, Linux刚启动时会加载bootfs文件系统，在Docker镜像的最底层是bootfs。这一层与我们典型的Linux&#x2F;Unix系统是一样的，包含boot加载器和内核。当boot加载完成之后整个内核就都在内存中了，此时内存的使用权已由bootfs转交给内核，此时系统也会卸载bootfs。</span><br><span class="line"></span><br><span class="line">rootfs (root file system) ，在bootfs之上。包含的就是典型 Linux 系统中的 &#x2F;dev, &#x2F;proc, &#x2F;bin, &#x2F;etc 等标准目录和文件。rootfs就是各种不同的操作系统发行版，比如Ubuntu，Centos等等。 </span><br><span class="line"></span><br><span class="line">&gt; 平时我们安装进虚拟机的CentOS都是好几个G，为什么docker这里才200M？？</span><br><span class="line"></span><br><span class="line">对于一个精简的OS，rootfs可以很小，只需要包括最基本的命令、工具和程序库就可以了，因为底层直接用Host的kernel，自己只需要提供 rootfs 就行了。由此可见对于不同的linux发行版, bootfs基本是一致的, rootfs会有差别, 因此不同的发行版可以公用bootfs。</span><br><span class="line"></span><br><span class="line">#### 3、分层的镜像</span><br><span class="line"></span><br><span class="line">以我们的pull为例，在下载的过程中我们可以看到docker的镜像好像是在一层一层的在下载</span><br><span class="line"></span><br><span class="line">**为什么 Docker 镜像要采用这种分层结构呢**?</span><br><span class="line"></span><br><span class="line">最大的一个好处就是 - 共享资源</span><br><span class="line"></span><br><span class="line">比如：有多个镜像都从相同的 base 镜像构建而来，那么宿主机只需在磁盘上保存一份base镜像，</span><br><span class="line">同时内存中也只需加载一份 base 镜像，就可以为所有容器服务了。而且镜像的每一层都可以被共享。</span><br><span class="line"></span><br><span class="line">#### 4、容器commit为镜像</span><br><span class="line"></span><br><span class="line">docker commit提交容器副本使之成为一个新的镜像</span><br><span class="line"></span><br><span class="line">- **docker commit -m&#x3D;&quot;提交的描述信息&quot; -a&#x3D;&quot;作者&quot; [容器ID&#x2F;容器名称]  [要创建的目标镜像名]:[标签名]**</span><br><span class="line"></span><br><span class="line">**①生成镜像**</span><br><span class="line"></span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822175351.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">**②创建自定义镜像的容器**</span><br><span class="line"></span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822175603.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">### 七、Docker容器数据卷</span><br><span class="line"></span><br><span class="line">#### 1、基本概念</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">先来看看Docker的理念：</span><br><span class="line">*  将运用与运行的环境打包形成容器运行 ，运行可以伴随着容器，但是我们对数据的要求希望是持久化的</span><br><span class="line">*  容器之间希望有可能共享数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Docker容器产生的数据，如果不通过docker commit生成新的镜像，使得数据做为镜像的一部分保存下来，</span><br><span class="line">那么当容器删除后，数据自然也就没有了。</span><br><span class="line"></span><br><span class="line">为了能保存数据在docker中我们使用卷。</span><br><span class="line"></span><br><span class="line">卷就是目录或文件，存在于一个或多个容器中，**由docker挂载到容器**，但不属于联合文件系统，因此能够绕过Union File System提供一些用于持续存储或共享数据的特性：</span><br><span class="line"></span><br><span class="line"> 卷的设计目的就是数据的持久化，完全独立于容器的生存周期，因此Docker不会在容器删除时删除其挂载的数据卷</span><br><span class="line"></span><br><span class="line">特点：</span><br><span class="line">1：数据卷可在容器之间共享或重用数据</span><br><span class="line">2：卷中的更改可以直接生效</span><br><span class="line">3：数据卷中的更改不会包含在镜像的更新中</span><br><span class="line">4：数据卷的生命周期一直持续到没有容器使用它为止</span><br><span class="line"></span><br><span class="line">- 容器的持久化</span><br><span class="line">- 容器间继承+共享数据</span><br><span class="line"></span><br><span class="line">#### 2、容器数据卷添加(目录挂载)</span><br><span class="line"></span><br><span class="line">说白了就是将宿主机上的某一个路径与容器中的某一路径产生关联，**也就是挂载**</span><br><span class="line"></span><br><span class="line">##### 1)命令添加</span><br><span class="line"></span><br><span class="line">- **docker run -it -v [宿主机绝对路径目录]:[容器内目录]  [镜像名&#x2F;镜像id]**</span><br><span class="line"></span><br><span class="line">  - 启动容器时挂载目录</span><br><span class="line"></span><br><span class="line">  - &gt; 案例</span><br><span class="line"></span><br><span class="line">    - ①&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822214127.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">      - 创建容器名为mycentos的容器，并将宿主机上的 &#96;&#x2F;tempVolume &#96;目录 和 容器中的 &#96;&#x2F;containerVolume&#96;挂载</span><br><span class="line">    - ②容器&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822214439.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line">    - ③宿主机&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822214550.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">###### ①查看容器挂载情况</span><br><span class="line"></span><br><span class="line">- **使用 docker inspect [容器名称&#x2F;容器id]** </span><br><span class="line">  - &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200822214904.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">###### ②容器和宿主机之间数据共享</span><br><span class="line"></span><br><span class="line">###### ③容器停止退出后，主机修改后，容器再次启动数据同步</span><br><span class="line"></span><br><span class="line">###### ④带权限读写</span><br><span class="line"></span><br><span class="line">- **docker run -it -v [宿主机绝对路径目录]:[容器内目录]:ro  [镜像名&#x2F;镜像id]**</span><br><span class="line">  - ro （read only）表示在宿主机上可以对挂载的目录中的内容进行修改和查看，容器中只能读，不能做修改操作</span><br><span class="line"></span><br><span class="line">##### 2)使用DockerFile添加</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">VOLUME[&quot;&#x2F;dataVolumeContainer&quot;,&quot;&#x2F;dataVolumeContainer2&quot;,&quot;&#x2F;dataVolumeContainer3&quot;]</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">**出于可移植和分享的考虑**，用-v 主机目录:容器目录这种方法不能够直接在Dockerfile中实现。</span><br><span class="line">由于宿主机目录是依赖于特定宿主机的，并不能够保证在所有的宿主机上都存在这样的特定目录。</span><br><span class="line"></span><br><span class="line">**注意：**使用DockerFile不能指定宿主机目录(自动生成)，但可以指定多个容器的目录，并使用DockerFile构建的新的镜像具有可移植性</span><br><span class="line"></span><br><span class="line">&gt; 案例</span><br><span class="line"></span><br><span class="line">①在宿主机上新建DockerFile文件 </span><br><span class="line"></span><br><span class="line">- **vim DockerFile**</span><br><span class="line"></span><br><span class="line">  - 添加内容</span><br><span class="line"></span><br><span class="line">    - VOLUME：容器中对应的多个挂载目录，分别为 &#96;&#x2F;dataVolumeContainer1&#96;，&#96;&#x2F;dataVolumeContainer2&#96;</span><br><span class="line"></span><br><span class="line">    - &#96;&#96;&#96;shell</span><br><span class="line">      # volume test</span><br><span class="line">      FROM centos</span><br><span class="line">      VOLUME [&quot;&#x2F;dataVolumeContainer1&quot;,&quot;&#x2F;dataVolumeContainer2&quot;]</span><br><span class="line">      CMD echo &quot;finished,--------success1&quot;</span><br><span class="line">      CMD &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>②通过<code>DockerFile</code>构建新的镜像文件</p>
<ul>
<li><strong>docker build -f [DockerFile文件位置] -t [构建的镜像名称:TAG]  [DockerFile目录位置]</strong><ul>
<li>【选项】<ul>
<li><strong>-f [DockerFile文件位置]</strong>  指定DockerFile位置</li>
<li><strong>-t [构建的镜像名称:TAG]</strong>  指定名称以及“ name：tag”格式的标签</li>
<li>若为当前路径，则<strong>[DockerFile目录位置]</strong>为  <strong>.</strong> </li>
</ul>
</li>
<li><img src="http://img.louchen.top/2020/07/20200822224801.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<p>③通过DockerFile构建的镜像创建容器</p>
<ul>
<li><strong>docker run -it –name [容器名称] [容器id/容器名称]</strong><ul>
<li>启动容器，并进入容器 ，按ctrl+p+q不关闭容器</li>
<li><img src="http://img.louchen.top/2020/07/20200822225632.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<p>④查看容器挂载情况</p>
<ul>
<li><strong>docker inspect [容器id/容器名称]</strong><ul>
<li><img src="http://img.louchen.top/2020/07/20200822225910.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<p>⑤进入容器是否生成对应目录</p>
<ul>
<li><img src="http://img.louchen.top/2020/07/20200822230103.png" style="zoom:80%;" />

</li>
</ul>
<p>⑥通过docker inspect查看宿主机对应的挂载目录，添加文件，发现容器中的挂载目录文件共享</p>
<h5 id="3-可能出现的问题"><a href="#3-可能出现的问题" class="headerlink" title="3)可能出现的问题"></a>3)可能出现的问题</h5><p>Docker挂载主机目录Docker访问出现cannot open directory .: Permission denied<br>解决办法：在挂载目录后多加一个<strong>–privileged=true</strong>参数即可</p>
<h4 id="3、容器间传递共享-–volumes-from"><a href="#3、容器间传递共享-–volumes-from" class="headerlink" title="3、容器间传递共享(–volumes-from)"></a>3、容器间传递共享(–volumes-from)</h4><ul>
<li><strong>docker run -it –name [新建容器名称] –volumes-from [要继承的容器名称] [镜像名称/镜像id]</strong> <ul>
<li>通过指定镜像创建一个容器，并继承指定容器的数据卷(挂载目录)</li>
</ul>
</li>
</ul>
<p><strong>容器之间配置信息+的传递，数据卷的生命周期一直持续到没有容器使用它为止</strong>， <strong>即继承的容器挂载目录中相互之间数据共享</strong></p>
<h3 id="八、DockerFile详解"><a href="#八、DockerFile详解" class="headerlink" title="八、DockerFile详解"></a>八、DockerFile详解</h3><h4 id="1、DockerFile是什么？"><a href="#1、DockerFile是什么？" class="headerlink" title="1、DockerFile是什么？"></a>1、DockerFile是什么？</h4><ul>
<li>Dockerfile是用来<em>构建Docker镜像的构建文件，是由一系列命令和参数构成的脚本</em>。</li>
</ul>
<blockquote>
<p> 构建步骤</p>
<ul>
<li>编写Dockerfile文件</li>
<li>docker build</li>
<li>docker run</li>
</ul>
</blockquote>
<blockquote>
<p>例如：centos7.7的DockerFile文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">FROM scratch</span><br><span class="line">ADD centos-7-x86_64-docker.tar.xz /</span><br><span class="line"></span><br><span class="line">LABEL \</span><br><span class="line">    org.label-schema.schema-version="1.0" \</span><br><span class="line">    org.label-schema.name="CentOS Base Image" \</span><br><span class="line">    org.label-schema.vendor="CentOS" \</span><br><span class="line">    org.label-schema.license="GPLv2" \</span><br><span class="line">    org.label-schema.build-date="20200809" \</span><br><span class="line">    org.opencontainers.image.title="CentOS Base Image" \</span><br><span class="line">    org.opencontainers.image.vendor="CentOS" \</span><br><span class="line">    org.opencontainers.image.licenses="GPL-2.0-only" \</span><br><span class="line">    org.opencontainers.image.created="2020-08-09 00:00:00+01:00"</span><br><span class="line"></span><br><span class="line">CMD ["/bin/bash"]</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="2、DockerFile构建过程解析"><a href="#2、DockerFile构建过程解析" class="headerlink" title="2、DockerFile构建过程解析"></a>2、DockerFile构建过程解析</h4><h5 id="①注意事项"><a href="#①注意事项" class="headerlink" title="①注意事项"></a>①注意事项</h5><ul>
<li>每条保留字指令都必须为<strong>大写字母</strong>且后面要跟随<strong>至少一个参数</strong></li>
<li>指令按照从上到下，顺序执行</li>
<li>#表示注释</li>
<li>每条指令都会创建一个新的镜像层，并对镜像进行提交</li>
</ul>
<h5 id="②Docker执行DockerFile的大致流程"><a href="#②Docker执行DockerFile的大致流程" class="headerlink" title="②Docker执行DockerFile的大致流程"></a>②Docker执行DockerFile的大致流程</h5><ul>
<li>（1）docker从基础镜像运行一个容器</li>
<li>（2）执行一条指令并对容器作出修改</li>
<li>（3）执行类似docker commit的操作提交一个新的镜像层</li>
<li>（4）docker再基于刚提交的镜像运行一个新容器</li>
<li>（5）执行dockerfile中的下一条指令直到所有指令都执行完成</li>
</ul>
<h5 id="③总结"><a href="#③总结" class="headerlink" title="③总结"></a>③总结</h5><p>从应用软件的角度来看，Dockerfile、Docker镜像与Docker容器分别代表软件的三个不同阶段，</p>
<ul>
<li><p><strong>Dockerfile是软件的原材料</strong></p>
</li>
<li><p><strong>Docker镜像是软件的交付品</strong></p>
</li>
<li><p><strong>Docker容器则可以认为是软件的运行态。</strong></p>
</li>
</ul>
<p>Dockerfile面向开发，Docker镜像成为交付标准，Docker容器则涉及部署与运维，<strong>三者缺一不可，合力充当Docker体系的基石</strong>。</p>
<p>1)Dockerfile，需要定义一个Dockerfile，Dockerfile定义了进程需要的一切东西。Dockerfile涉及的内容包括执行代码或者是文件、环境变量、依赖包、运行时环境、动态链接库、操作系统的发行版、服务进程和内核进程(当应用进程需要和系统服务和内核进程打交道，这时需要考虑如何设计namespace的权限控制)等等;</p>
<p>2)Docker镜像，在用Dockerfile定义一个文件之后，docker build时会产生一个Docker镜像，当运行 Docker镜像时，会真正开始提供服务;</p>
<p>3)Docker容器，容器是直接提供服务的。</p>
<h4 id="3、DockerFile保留字指令介绍"><a href="#3、DockerFile保留字指令介绍" class="headerlink" title="3、DockerFile保留字指令介绍"></a>3、DockerFile保留字指令介绍</h4><ul>
<li><p><strong>FROM</strong>  </p>
<ul>
<li>基础镜像，当前新镜像是基于哪个镜像的</li>
</ul>
</li>
<li><p><strong>MAINTAINER</strong></p>
<ul>
<li>镜像维护者的姓名和邮箱地址</li>
</ul>
</li>
<li><p><strong>RUN</strong></p>
<ul>
<li>容器构建时需要运行的命令</li>
</ul>
</li>
<li><p><strong>EXPOSE</strong></p>
<ul>
<li>当前容器对外暴露出的端口</li>
</ul>
</li>
<li><p><strong>WORKDIR</strong></p>
<ul>
<li>指定在创建容器后，终端默认登陆的进来工作目录，一个落脚点</li>
</ul>
</li>
<li><p><strong>ENV</strong></p>
<ul>
<li><p>用来在构建镜像过程中设置环境变量</p>
<ul>
<li><pre><code class="shell">ENV MY_PATH /usr/mytest
这个环境变量可以在后续的任何RUN指令中使用，这就如同在命令前面指定了环境变量前缀一样；
也可以在其它指令中直接使用这些环境变量，

<span class="meta">#</span><span class="bash">代表路径为MY_PATH定义的 /usr/mytest</span>
比如：WORKDIR $MY_PATH
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **ADD**</span><br><span class="line"></span><br><span class="line">  - 将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar压缩包(**拷贝且压缩）**</span><br><span class="line"></span><br><span class="line">- **COPY**</span><br><span class="line"></span><br><span class="line">  - 类似ADD，拷贝文件和目录到镜像中。(**仅拷贝**)</span><br><span class="line">    将从构建上下文目录中 &lt;源路径&gt; 的文件&#x2F;目录复制到新的一层的镜像内的 &lt;目标路径&gt; 位置</span><br><span class="line">    - **COPY src dest**</span><br><span class="line">    - **COPY [&quot;src&quot;, &quot;dest&quot;]**</span><br><span class="line"></span><br><span class="line">- **VOLUME**</span><br><span class="line">  </span><br><span class="line">  - 容器数据卷，用于数据保存和持久化工作</span><br><span class="line">- **CMD**</span><br><span class="line">  - 指定一个容器启动时要运行的命令</span><br><span class="line">    - Dockerfile 中可以有**多个 CMD 指令，但只有最后一个生效**，CMD 会被 docker run 之后的参数**替换**</span><br><span class="line">- **ENTRYPOINT** </span><br><span class="line">  - 指定一个容器启动时要运行的命令</span><br><span class="line">    - ENTRYPOINT 的目的和 CMD 一样，都是在**指定容器启动程序及参数**，但是会将docker run后指定的参数**追加**到CMD最后一条指令上</span><br><span class="line"></span><br><span class="line">- **ONBUILD**</span><br><span class="line">  </span><br><span class="line">  - 当构建一个被继承的Dockerfile时运行命令，父镜像在被子继承后父镜像的onbuild被触发</span><br><span class="line"></span><br><span class="line">#### 4、案例</span><br><span class="line"></span><br><span class="line">##### 1)Base镜像(scratch)</span><br><span class="line"></span><br><span class="line">Docker Hub 中 99% 的镜像都是通过在 base 镜像中安装和配置需要的软件构建出来的</span><br><span class="line"></span><br><span class="line">##### 2)自定义centos镜像</span><br><span class="line"></span><br><span class="line">&gt; 构建目标镜像的任务：</span><br><span class="line"></span><br><span class="line">  - 进入容器后的指定默认路径</span><br><span class="line">  - 支持vim编辑器</span><br><span class="line">    </span><br><span class="line">  - 查看网络配置ifconfig支持</span><br><span class="line"></span><br><span class="line">&gt; 步骤</span><br><span class="line"></span><br><span class="line">①构建DockerFile文件</span><br><span class="line"></span><br><span class="line">- 在宿主机上新建 **vim DockerFileCentos**</span><br><span class="line"></span><br><span class="line">  - 添加以下内容</span><br><span class="line"></span><br><span class="line">  - &#96;&#96;&#96;shell</span><br><span class="line">    #指定镜像源</span><br><span class="line">    FROM centos</span><br><span class="line">    #作者及邮箱</span><br><span class="line">    MAINTAINER lc&lt;421192425@qq.com&gt;</span><br><span class="line">    #创建环境路径(便于后续命令引用)</span><br><span class="line">    ENV MYPATH &#x2F;usr&#x2F;local</span><br><span class="line">    #创建工作路径(进入容器的初始路径)</span><br><span class="line">    WORKDIR $MYPATH</span><br><span class="line">    #安装vim</span><br><span class="line">    RUN yum -y install vim</span><br><span class="line">    #安装ifconfig</span><br><span class="line">    RUN yum -y install net-tools</span><br><span class="line">    #暴露端口 80</span><br><span class="line">    EXPOSE 80</span><br><span class="line">    #构建时输出路径MYPATHCMD</span><br><span class="line">    CMD echo $MYPATHCMD </span><br><span class="line">    #构建时输出指定的语句</span><br><span class="line">    CMD echo &quot;success--------------ok&quot;</span><br><span class="line">    CMD [&quot;&#x2F;bin&#x2F;bash&quot;]</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>②通过DockerFile构建镜像</p>
<ul>
<li><p><strong>docker build -f [DockerFile文件位置] -t [构建的镜像名称:TAG]  [DockerFile目录位置]</strong></p>
<ul>
<li><img src="http://img.louchen.top/2020/07/20200823134218.png" style="zoom:80%;" />

</li>
</ul>
<p>③查看构建的镜像和镜像的构建步骤</p>
</li>
<li><p><strong>docker history [镜像id/镜像名]</strong></p>
<ul>
<li>查看构建镜像的步骤</li>
<li><img src="http://img.louchen.top/2020/07/20200823134555.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<p>④根据构建的镜像创建容器</p>
<ul>
<li>我们发现进入容器的初始目录以及变为 <code>/usr/lcoal</code></li>
<li><code>ifconfig</code>命名也能使用</li>
</ul>
<img src="http://img.louchen.top/2020/07/20200823134807.png" style="zoom:80%;" />

<img src="http://img.louchen.top/2020/07/20200823134901.png" style="zoom:80%;" />

<h3 id="九、阿里镜像仓库上传"><a href="#九、阿里镜像仓库上传" class="headerlink" title="九、阿里镜像仓库上传"></a>九、阿里镜像仓库上传</h3><h4 id="1、使用docker-commit-或-DockerFile构建要上传的镜像"><a href="#1、使用docker-commit-或-DockerFile构建要上传的镜像" class="headerlink" title="1、使用docker commit 或 DockerFile构建要上传的镜像"></a><strong>1、使用docker commit 或 DockerFile构建要上传的镜像</strong></h4><h4 id="2、登录阿里云创建自己的镜像仓库"><a href="#2、登录阿里云创建自己的镜像仓库" class="headerlink" title="2、登录阿里云创建自己的镜像仓库"></a><strong>2、登录阿里云创建自己的镜像仓库</strong></h4><p><a href="https://cr.console.aliyun.com/cn-qingdao/instances/repositories">https://cr.console.aliyun.com/cn-qingdao/instances/repositories</a></p>
<img src="http://img.louchen.top/2020/07/20200824105510.png" style="zoom:80%;" />



<img src="http://img.louchen.top/2020/07/20200824105546.png" style="zoom:80%;" />

<ul>
<li>创建好的仓库<ul>
<li><img src="http://img.louchen.top/2020/07/20200824105609.png" style="zoom:80%;" />****</li>
</ul>
</li>
</ul>
<h4 id="3、推送镜像"><a href="#3、推送镜像" class="headerlink" title="3、推送镜像"></a>3、推送镜像</h4><ul>
<li><p><strong>docker login –username=421192425@qq.com registry.cn-qingdao.aliyuncs.com</strong> </p>
<ul>
<li>登录远程仓库</li>
<li><img src="http://img.louchen.top/2020/07/20200824105910.png" style="zoom:80%;" />
</li>
</ul>
</li>
<li><p><strong>docker tag [镜像id] registry.cn-qingdao.aliyuncs.com/docker_lc/mycentos:[镜像版本号]</strong></p>
<ul>
<li>要上传的指定的镜像id，并指定上传后的镜像版本号</li>
<li><strong>docker_lc</strong>  远端镜像命名空间</li>
<li><strong>mycentos</strong>  远端仓库名称</li>
<li>一个仓库对应多个镜像的版本号</li>
</ul>
</li>
<li><p><strong>docker push registry.cn-qingdao.aliyuncs.com/docker_lc/mycentos:[镜像版本号]</strong> </p>
<ul>
<li>推送镜像，保证指定的镜像版本号与上一步指定上传后的镜像版本号一致</li>
<li><strong>docker_lc/mycentos</strong> <em>命名空间/仓库名称</em> 的镜像搜索</li>
</ul>
<img src="http://img.louchen.top/2020/07/20200824111241.png" style="zoom:80%;" />
</li>
<li><p><strong>远端查看推送的镜像</strong></p>
<ul>
<li><p>没推送到指定仓库就对应一次版本</p>
</li>
<li><p>拉取时指定仓库的后的版本及得到相应的镜像</p>
</li>
<li><img src="http://img.louchen.top/2020/07/20200824111727.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<h4 id="4、搜索镜像"><a href="#4、搜索镜像" class="headerlink" title="4、搜索镜像"></a>4、搜索镜像</h4><img src="http://img.louchen.top/2020/07/20200824111853.png" style="zoom:80%;" />

<h4 id="5、拉取指定镜像"><a href="#5、拉取指定镜像" class="headerlink" title="5、拉取指定镜像"></a>5、拉取指定镜像</h4><ul>
<li><p><strong>docker pull registry.cn-qingdao.aliyuncs.com/docker_lc/mycentos:[镜像版本号]</strong></p>
<ul>
<li><strong>docker_lc</strong> 命名空间</li>
<li><strong>mycentos</strong> 仓库名称</li>
<li>镜像版本号为指定仓库中的镜像版本号</li>
</ul>
<img src="http://img.louchen.top/2020/07/20200824112656.png" style="zoom:80%;" />
</li>
<li><p>查看拉取的镜像</p>
<ul>
<li><img src="http://img.louchen.top/2020/07/20200824112847.png" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<h3 id="十、常见镜像安装"><a href="#十、常见镜像安装" class="headerlink" title="十、常见镜像安装"></a>十、常见镜像安装</h3><h4 id="1、安装mysql5-7"><a href="#1、安装mysql5-7" class="headerlink" title="1、安装mysql5.7"></a>1、安装mysql5.7</h4><p>1)拉取mysql指定版本的镜像</p>
<ul>
<li><strong>docker pull mysql:5.7</strong></li>
</ul>
<p>2)运行容器</p>
<ul>
<li><pre><code class="shell">docker run -d --name mysql01 --restart=always -p 3306:3306 
-v /opt/mysql_5.7/conf:/etc/mysql/conf.d 
-v /opt/mysql_5.7/logs:/logs 
-v /opt/mysql_5.7/data:/var/lib/mysql 
-e MYSQL_ROOT_PASSWORD=123456 mysql:5.7
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 将宿主机上的目录 &#96;&#x2F;opt&#x2F;mysql_5.7&#x2F;conf&#96; 挂载为容器对应的 &#96;&#x2F;etc&#x2F;mysql&#x2F;conf.d &#96;  (对应mysql配置目录)</span><br><span class="line"></span><br><span class="line">  将宿主机上的目录 &#96;&#x2F;opt&#x2F;mysql_5.7&#x2F;logs&#96; 挂载为容器对应的 &#96;&#x2F;logs&#96;   (对应日志目录)</span><br><span class="line"></span><br><span class="line">  将宿主机上的目录 &#96;&#x2F;opt&#x2F;mysql_5.7&#x2F;data&#96; 挂载为容器对应的 &#96;&#x2F;var&#x2F;lib&#x2F;mysql&#96;   (对应数据每目录)</span><br><span class="line"></span><br><span class="line">  &#96;-e MYSQL_ROOT_PASSWORD&#x3D;123456&#96; 设置root初始密码为123456</span><br><span class="line"></span><br><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200823204414.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">3)进入容器</span><br><span class="line"></span><br><span class="line">- **docker exec -it mysql01 bash**</span><br><span class="line">- 进入容器后进入登录mysql目录行</span><br><span class="line">  - &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;img.louchen.top&#x2F;2020&#x2F;07&#x2F;20200823205057.png&quot; style&#x3D;&quot;zoom:80%;&quot; &#x2F;&gt;</span><br><span class="line">  - 创建数据库 **create database vhr;**</span><br><span class="line">  - 使用数据库 **use vhr;**</span><br><span class="line">  - 创建表 **create table hr(id int primary key identity_increment,name varchar(20) not null);**、</span><br><span class="line">  - quit退出mysql命令行，exit退出mysql容器</span><br><span class="line"></span><br><span class="line">4)放行3306端口，使用外部工具连接测试</span><br><span class="line"></span><br><span class="line">#### 2、安装Redis</span><br><span class="line"></span><br><span class="line">1)拉取redis镜像</span><br><span class="line"></span><br><span class="line">- **docker pull redis**</span><br><span class="line"></span><br><span class="line">2)运行容器</span><br><span class="line"></span><br><span class="line">- &#96;&#96;&#96;shell</span><br><span class="line">  docker run -d --restart&#x3D;always --name myredis -p 6379:6379 </span><br><span class="line">  -v &#x2F;opt&#x2F;myredis&#x2F;data:&#x2F;data </span><br><span class="line">  -v &#x2F;opt&#x2F;myredis&#x2F;conf&#x2F;redis.conf:&#x2F;usr&#x2F;local&#x2F;etc&#x2F;redis&#x2F;redis.conf </span><br><span class="line">  redis redis-server &#x2F;usr&#x2F;local&#x2F;etc&#x2F;redis&#x2F;redis.conf --appendonly yes</span><br></pre></td></tr></table></figure></code></pre>
</li>
<li><p>宿主机上的aof数据<code>/opt/myredis/data</code>对应容器的 /data  (持久化文件)</p>
<p>宿主机上<code>/opt/myredis/conf/redis.conf</code>对应容器的 <code>/usr/local/etc/redis/redis.conf</code> (redis配置文件)</p>
<p><code>redis-server /usr/local/etc/redis/redis.conf</code>运行时启动redis</p>
<p><code>--appendonly yes</code> 开启aop持久化</p>
</li>
</ul>
<p>3)进入容器</p>
<ul>
<li><strong>docker exec -it myredis redis-cli</strong></li>
</ul>
<h4 id="3、安装Nginx"><a href="#3、安装Nginx" class="headerlink" title="3、安装Nginx"></a>3、安装Nginx</h4><p><a href="https://blog.csdn.net/Superman_peng/article/details/108181155">https://blog.csdn.net/Superman_peng/article/details/108181155</a></p>
<p><strong>1)拉取镜像</strong></p>
<ul>
<li><strong>docker pull nginx</strong></li>
</ul>
<p><strong>2)创建并运行容器</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -p 80:80 --name mynginx </span><br><span class="line">-v /opt/nginx/html:/usr/share/nginx/html </span><br><span class="line">-v /opt/nginx/logs:/var/log/nginx </span><br><span class="line">-v /opt/nginx/conf.d:/etc/nginx/conf.d nginx</span><br></pre></td></tr></table></figure>

<ul>
<li><p>宿主机路径 <code>/opt/nginx/html</code>  映射容器路径 <code>/usr/share/nginx/html</code>  (访问的主页路径)</p>
<p>宿主机路径 <code>/opt/nginx/logs</code>  映射容器路径<code>/var/log/nginx</code>  (日志)</p>
<p> 宿主机路径 <code>/opt/nginx/conf.d</code>  映射容器路径<code>/etc/nginx/conf.d</code>  (配置文件目录)</p>
</li>
<li><p>宿主机目录如果不存在，<strong>则会自动生成，不需要手动创建</strong></p>
</li>
</ul>
<p><strong>3)刚创建的容器因为目录挂载的原因，没有配置文件和访问的主页路径，我们需要创建一个测试容器，然后进容器将对应的配置文件和主页路径复制到对应宿主机的路径</strong></p>
<blockquote>
<p>ng1为测试的容器名称</p>
</blockquote>
<ul>
<li><strong>docker cp ng1:/etc/nginx/conf.d/default.conf /opt/nginx/conf.d/</strong>   复制配置文件，<strong>注意不同nginx版本对应的配置文件不同</strong></li>
<li><strong>docker cp ng1:/usr/share/nginx/html/index.html /opt/nginx/html/</strong>  复制index.html</li>
<li><strong>docker cp ng1:/usr/share/nginx/html/50x.html /opt/nginx/html/</strong>  复制50x.html</li>
</ul>
<p><strong>4)若为虚拟机则防火墙打开80端口，若为阿里云则打开80安全组</strong></p>
<p><strong>5)访问到则成功的页面</strong></p>
<img src="http://img.louchen.top/2020/07/20200825201012.png" style="zoom:80%;" />

<h4 id="4、安装tomcat"><a href="#4、安装tomcat" class="headerlink" title="4、安装tomcat"></a>4、安装tomcat</h4><p><strong>1)拉取指定镜像</strong></p>
<ul>
<li><strong>docker pull tomcat:8</strong></li>
</ul>
<p><strong>2)创建并启动容器</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always --name mytomcat -p 8080:8080 </span><br><span class="line">-v /opt/tomcat/webapps:/usr/local/tomcat/webapps tomcat:8</span><br></pre></td></tr></table></figure>

<ul>
<li>宿主机目录<code>/opt/tomcat/webapps</code> 对应宿主机目录 <code>/usr/local/tomcat/weapps</code>  （放置war包的位置）</li>
</ul>
<p><strong>3)若没有显示默认的tomcat启动页则进入容器</strong></p>
<ul>
<li><strong>cp  -r /usr/local/tomcat/webapps.dist/*  /usr/local/tomcat/webapps</strong></li>
</ul>
<p><strong>4)若需要创建多个tomcat容器则</strong></p>
<ul>
<li>只需要修改相应的端口号即可</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always --name mytomcat01 -p 8081:8080 </span><br><span class="line">-v /opt/tomcat01/webapps:/usr/local/tomcat/webapps tomcat:8</span><br></pre></td></tr></table></figure>

</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Docker/">Docker</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/pay.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/Linux%E8%AF%A6%E8%A7%A3/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Linux详解</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/08/07/mysql/MySQL%E5%9F%BA%E7%A1%80/"><span class="level-item">MySQL基础</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/img/milk.png" alt="娄晨"></figure><p class="title is-size-4 is-block line-height-inherit">娄晨</p><p class="is-size-6 is-block">学生</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>中国·武汉</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">71</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">42</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded cursor:pointer" href="/img/wechart.jpg" target="_blank" rel="noopener">联系我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" href="#一、Docker官网与仓库地址"><span class="mr-2">1</span><span>一、Docker官网与仓库地址</span></a></li><li><a class="is-flex" href="#二、Docker三要素"><span class="mr-2">2</span><span>二、Docker三要素</span></a><ul class="menu-list"><li><a class="is-flex" href="#1、镜像"><span class="mr-2">2.1</span><span>1、镜像</span></a></li><li><a class="is-flex" href="#2、容器"><span class="mr-2">2.2</span><span>2、容器</span></a></li><li><a class="is-flex" href="#3、仓库"><span class="mr-2">2.3</span><span>3、仓库</span></a></li><li><a class="is-flex" href="#4、深入理解镜像-容器-仓库"><span class="mr-2">2.4</span><span>4、深入理解镜像/容器/仓库</span></a></li></ul></li><li><a class="is-flex" href="#三、Docker的安装与卸载"><span class="mr-2">3</span><span>三、Docker的安装与卸载</span></a><ul class="menu-list"><li><a class="is-flex" href="#1、安装docker"><span class="mr-2">3.1</span><span>1、安装docker</span></a></li><li><a class="is-flex" href="#2、阿里镜像加速配置"><span class="mr-2">3.2</span><span>2、阿里镜像加速配置</span></a><ul class="menu-list"><li><a class="is-flex" href="#3-可能出现的问题"><span class="mr-2">3.2.1</span><span>3)可能出现的问题</span></a></li></ul></li><li><a class="is-flex" href="#3、容器间传递共享-–volumes-from"><span class="mr-2">3.3</span><span>3、容器间传递共享(–volumes-from)</span></a></li></ul></li><li><a class="is-flex" href="#八、DockerFile详解"><span class="mr-2">4</span><span>八、DockerFile详解</span></a><ul class="menu-list"><li><a class="is-flex" href="#1、DockerFile是什么？"><span class="mr-2">4.1</span><span>1、DockerFile是什么？</span></a></li><li><a class="is-flex" href="#2、DockerFile构建过程解析"><span class="mr-2">4.2</span><span>2、DockerFile构建过程解析</span></a><ul class="menu-list"><li><a class="is-flex" href="#①注意事项"><span class="mr-2">4.2.1</span><span>①注意事项</span></a></li><li><a class="is-flex" href="#②Docker执行DockerFile的大致流程"><span class="mr-2">4.2.2</span><span>②Docker执行DockerFile的大致流程</span></a></li><li><a class="is-flex" href="#③总结"><span class="mr-2">4.2.3</span><span>③总结</span></a></li></ul></li><li><a class="is-flex" href="#3、DockerFile保留字指令介绍"><span class="mr-2">4.3</span><span>3、DockerFile保留字指令介绍</span></a></li></ul></li><li><a class="is-flex" href="#九、阿里镜像仓库上传"><span class="mr-2">5</span><span>九、阿里镜像仓库上传</span></a><ul class="menu-list"><li><a class="is-flex" href="#1、使用docker-commit-或-DockerFile构建要上传的镜像"><span class="mr-2">5.1</span><span>1、使用docker commit 或 DockerFile构建要上传的镜像</span></a></li><li><a class="is-flex" href="#2、登录阿里云创建自己的镜像仓库"><span class="mr-2">5.2</span><span>2、登录阿里云创建自己的镜像仓库</span></a></li><li><a class="is-flex" href="#3、推送镜像"><span class="mr-2">5.3</span><span>3、推送镜像</span></a></li><li><a class="is-flex" href="#4、搜索镜像"><span class="mr-2">5.4</span><span>4、搜索镜像</span></a></li><li><a class="is-flex" href="#5、拉取指定镜像"><span class="mr-2">5.5</span><span>5、拉取指定镜像</span></a></li></ul></li><li><a class="is-flex" href="#十、常见镜像安装"><span class="mr-2">6</span><span>十、常见镜像安装</span></a><ul class="menu-list"><li><a class="is-flex" href="#1、安装mysql5-7"><span class="mr-2">6.1</span><span>1、安装mysql5.7</span></a></li><li><a class="is-flex" href="#3、安装Nginx"><span class="mr-2">6.2</span><span>3、安装Nginx</span></a></li><li><a class="is-flex" href="#4、安装tomcat"><span class="mr-2">6.3</span><span>4、安装tomcat</span></a></li></ul></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="http://vhr.louchen.top/index.html" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">人事管理</span></span><span class="level-right"><span class="level-item tag">vhr.louchen.top</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/IDEA/"><span class="level-start"><span class="level-item">IDEA</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JavaWeb/"><span class="level-start"><span class="level-item">JavaWeb</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">Java基础</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/MySQL/"><span class="level-start"><span class="level-item">MySQL</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SSM/"><span class="level-start"><span class="level-item">SSM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Spring-Boot/"><span class="level-start"><span class="level-item">Spring Boot</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Spring-Cache/"><span class="level-start"><span class="level-item">Spring Cache</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Spring-Security/"><span class="level-start"><span class="level-item">Spring Security</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SpringBoot/"><span class="level-start"><span class="level-item">SpringBoot</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SpringMVC/"><span class="level-start"><span class="level-item">SpringMVC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%AE%B9%E5%99%A8%E5%8C%96%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">容器化技术</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">并发编程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">版本管理工具</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E9%83%A8%E7%BD%B2/"><span class="level-start"><span class="level-item">项目构建部署</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"><span class="level-start"><span class="level-item">项目部署</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-30T13:33:41.737Z">2020-08-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/gradle%E8%AF%A6%E8%A7%A3/">Gradle详解(待续)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">版本管理工具</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-30T13:33:41.720Z">2020-08-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/Git%E8%AF%A6%E8%A7%A3/">Git详解</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">版本管理工具</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-30T13:33:41.696Z">2020-08-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/github%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/">github搜索技巧</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">版本管理工具</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-30T13:33:41.660Z">2020-08-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/Maven%E8%AF%A6%E8%A7%A3/">Maven详解</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">版本管理工具</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-30T13:32:38.191Z">2020-08-30</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/30/docker_linux_nginx_git_maven_gradle/Nginx%E8%AF%A6%E8%A7%A3/">Nginx详解</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/">项目部署</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">62</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ActiveMQ/"><span class="tag">ActiveMQ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ehcache/"><span class="tag">Ehcache</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FastDFS/"><span class="tag">FastDFS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gradle/"><span class="tag">Gradle</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IDEA/"><span class="tag">IDEA</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JAR/"><span class="tag">JAR</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JDK1-8/"><span class="tag">JDK1.8</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JWT/"><span class="tag">JWT</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java%E5%9F%BA%E7%A1%80/"><span class="tag">Java基础</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Maven/"><span class="tag">Maven</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nginx/"><span class="tag">Nginx</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OAuth2/"><span class="tag">OAuth2</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Quartz/"><span class="tag">Quartz</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RESTful/"><span class="tag">RESTful</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RabbitMQ/"><span class="tag">RabbitMQ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag is-grey-lightest">16</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSM/"><span class="tag">SSM</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Servlet/"><span class="tag">Servlet</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Session/"><span class="tag">Session</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shiro/"><span class="tag">Shiro</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring/"><span class="tag">Spring</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring-Boot/"><span class="tag">Spring Boot</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring-Security/"><span class="tag">Spring Security</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringBoot/"><span class="tag">SpringBoot</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringMVC/"><span class="tag">SpringMVC</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Swagger2/"><span class="tag">Swagger2</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WAR/"><span class="tag">WAR</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WebSocket/"><span class="tag">WebSocket</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"><span class="tag">代理模式</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84/"><span class="tag">反射</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90/"><span class="tag">多数据源</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="tag">多线程</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"><span class="tag">定时任务</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B3%9B%E5%9E%8B/"><span class="tag">泛型</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B6%88%E6%81%AF%E6%9C%8D%E5%8A%A1/"><span class="tag">消息服务</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1/"><span class="tag">邮件服务</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.ico" alt="MilkLc" height="28"></a><p class="size-small"><span>&copy; 2020 lc</span>  Powered by <a href="#" target="_blank" rel="noopener">LouChen</a>  </p><p class="size-small"><a href="http://www.miitbeian.gov.cn">鄂ICP备19030764号-1</a></p></div><div style="margin-left:-150px"><span id="busuanzi_container_site_pv">本站总访问量 <span id="busuanzi_value_site_pv" style="color:blue;font-size: 17px"></span> 次</span><span class="post-meta-divider"> | </span><span id="busuanzi_container_site_uv" style="display:none">本站访客数 <span id="busuanzi_value_site_uv" style="color:blue;font-size: 17px"></span> 人</span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>